function resourceErrorHandler(){}function resourceRenderHandler(e,t,n){e.isActive?t.addClass("booking-resource-active"):(t.addClass("booking-resource-inactive"),t.tipTip({content:inactiveResourceTooltip}),jQuery.isEmptyObject(n)||n.addClass("fc-nonbusiness"))}function eventErrorHandler(){}function eventRenderHandler(e,t,n){if(e.isHoliday)t.tipTip({content:holidayLabel+" "+e.title}),t.addClass("fc-nonbusiness booking-holiday");else if(t.tipTip({content:e.customerName+" - "+e.title}),n)switch(n.type){case"timelineMonth":t.find(".fc-time").text(e.duration+"h p/d"),t.find(".fc-title").remove();break;case"timelineWeek":t.find(".fc-title").text(e.duration+"h p/d");break;case"timelineDay":}}function eventAfterRender(e,t,n){}function eventMouseoverHandler(e,t,n){$(this).addClass("fc-highlighted")}function eventMouseoutHandler(e,t,n){$(this).removeClass("fc-highlighted")}function selectHandler(e,t,n,a,r){var o="",i="",d="",l="",s="",c="";r&&(o=r.id,i=r.title,s=r.businessHours[0].start,c=r.businessHours[0].end),d=e.format("YYYY-MM-DD");var u=t.subtract(1,"days");u.isBefore(d)&&(u=e),l=u.format("YYYY-MM-DD"),$.ajax({type:"POST",url:bookingFormUrl,data:{bookableId:o,bookableName:i,startDate:d,endDate:l,minStartTime:s,maxEndTime:c},success:function(e){$("#addBooking").find(".modal-body").html(e),initModalFields(),$("#addBooking").modal("show")}})}function fillProjectSelect(e,t){var n=$(e);n.find("option").remove(),$("<option>").val("").text("").appendTo(n),$.each(t,function(e,t){$("<option>").val(t.projectId).text(t.name).appendTo(n)})}function customerChangeHandler(){var e=$(this).val();""!==e&&$.ajax({type:"POST",url:customerProjectUrl,data:{customerId:e},cache:!1,success:function(e){fillProjectSelect("#projectId",e)}})}function startDateChangeHandler(e,t){var n=$(e).val();""===$(t).val()&&$(t).val(n)}function initDateField(e){jQuery(e).datetimepicker({timepicker:!1,format:"Y-m-d",formatDate:"Y-m-d",dayOfWeekStart:firstDayOfWeek})}function initModalFields(){initDateField("#startDate"),initDateField("#endDate")}jQuery(document).ready(function(){$("#addBooking").on("change","#customerId",customerChangeHandler),$("#addBooking").on("change","#startDate",function(){startDateChangeHandler("#startDate","#endDate")})}),$(function(){$("#calendar").fullCalendar({schedulerLicenseKey:"GPL-My-Project-Is-Open-Source",now:moment().startOf("day"),selectable:!0,selectHelper:!0,editable:!0,aspectRatio:4,firstDay:firstDayOfWeek,slotEventOverlap:!1,minTime:calendarMinTime,maxTime:calendarMaxTime,header:{left:"prev,next today",center:"title",right:"timelineDay,timelineWeek,timelineMonth"},defaultView:"timelineMonth",resourceAreaWidth:"25%",resourceLabelText:bookableResourceTitle,resources:{url:bookableResourcesUrl,type:"POST",error:resourceErrorHandler},events:{url:bookingResourcesUrl,data:{mode:"timeline"},type:"POST",error:eventErrorHandler},resourceRender:resourceRenderHandler,eventRender:eventRenderHandler,eventMouseover:eventMouseoverHandler,eventMouseout:eventMouseoutHandler,select:selectHandler})});
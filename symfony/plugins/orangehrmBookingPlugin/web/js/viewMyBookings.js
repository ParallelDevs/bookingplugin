function resourceErrorHandler(){}function resourceRenderHandler(e,t,a){e.isActive?t.addClass("booking-resource-active"):(t.addClass("booking-resource-inactive"),t.tipTip({content:inactiveResourceTooltip}),jQuery.isEmptyObject(a)||a.addClass("fc-nonbusiness"))}function loadVarsFromEvent(e){bookingId=e.id,startDate=e.start.format("YYYY-MM-DD"),endDate=e.end.format("YYYY-MM-DD");var t=$("#calendar").fullCalendar("getResourceById",e.resourceId);t&&(bookableId=t.id,bookableName=t.title,minStartTime=t.businessHours[0].start,maxEndTime=t.businessHours[0].end)}function eventErrorHandler(){}function eventRenderHandler(e,t,a){if(e.isHoliday)t.tipTip({content:holidayLabel+" "+e.title}),t.addClass("fc-nonbusiness booking-holiday");else if(t.tipTip({content:e.customerName+" - "+e.title}),t.bind("dblclick",function(){eventDblClickHandler(e)}),a)switch(a.type){case"timelineMonth":t.find(".fc-time").text(e.duration+"h p/d"),t.find(".fc-title").remove();break;case"timelineWeek":t.find(".fc-title").text(e.duration+"h p/d");break;case"timelineDay":}}function eventAfterRender(e,t,a){}function eventMouseoverHandler(e,t,a){$(this).addClass("fc-highlighted")}function eventMouseoutHandler(e,t,a){$(this).removeClass("fc-highlighted")}function eventResizeHandler(e,t,a,n,o,r){loadVarsFromEvent(e),ajaxLoadEditBooking(a)}function eventDropHandler(e,t,a,n,o,r,i,d){0!==t.asDays()&&(loadVarsFromEvent(e),ajaxLoadEditBooking(o))}function eventDblClickHandler(e){loadVarsFromEvent(e),ajaxLoadEditBooking(refreshBookings)}function selectHandler(e,t,a,n,o){o&&(bookableId=o.id,bookableName=o.title,minStartTime=o.businessHours[0].start,maxEndTime=o.businessHours[0].end),startDate=e.format("YYYY-MM-DD");var r=t.subtract(1,"days");r.isBefore(startDate)&&(r=e),endDate=r.format("YYYY-MM-DD"),ajaxLoadNewBooking()}function selectAllowHandler(e){var t=$("#calendar").fullCalendar("getResourceById",e.resourceId);return!(t&&!t.isActive)}var bookingId="",bookableId="",bookableName="",startDate="",endDate="",minStartTime="",maxEndTime="";$(function(){$("#calendar").fullCalendar({schedulerLicenseKey:"GPL-My-Project-Is-Open-Source",now:moment().startOf("day"),selectable:!1,selectHelper:!1,editable:!1,eventResourceEditable:!1,aspectRatio:4,firstDay:firstDayOfWeek,slotEventOverlap:!1,minTime:calendarMinTime,maxTime:calendarMaxTime,header:{left:"today prev,next",center:"title",right:"agendaWeek,month"},defaultView:"month",resources:{url:bookableResourcesUrl,data:{bookableId:bookableId},type:"POST",error:resourceErrorHandler},events:{url:bookingResourcesUrl,data:{bookableId:bookableId,mode:"agenda"},type:"POST",error:eventErrorHandler},resourceRender:resourceRenderHandler,eventRender:eventRenderHandler,eventMouseover:eventMouseoverHandler,eventMouseout:eventMouseoutHandler,selectAllow:!1})});